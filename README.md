# Fishnet

Fishnet is an Android library that dumps Java, native and ANR crashes.
The format of the log file is almost the same as the one generated by Android.

## Compatibility

- Android: 5.0 and above
- Architectures: arm64-v8a, armeabi-v7a, x86, x86_64
- Log types: Java, Native, ANR

### Additional abort message detection

- [ ] [FORTIFY](https://android-developers.googleblog.com/2017/04/fortify-in-android.html)
- [ ] [fdsan](https://android.googlesource.com/platform/bionic/+/master/docs/fdsan.md) (Android 10+)
- [x] [Scudo error](https://source.android.com/docs/security/test/scudo) (Android 11+)
- [ ] [GWP-ASan](https://developer.android.com/ndk/guides/gwp-asan) (Android 14 +)
- [ ] [MTE](https://developer.android.com/ndk/guides/arm-mte) (Android 14 QPR3 +)

## Installation

[![Maven Central](https://img.shields.io/maven-central/v/io.github.kyant0/fishnet)](https://central.sonatype.com/artifact/io.github.kyant0/fishnet)

In build.gradle.kts, add

```kotlin
implementation("io.github.kyant0:fishnet:<version>")
```

## Usage

In the `Application` class, add the following code,

```kotlin
import com.kyant.fishnet.Fishnet

class App : Application() {
    override fun onCreate() {
        super.onCreate()
        val logPath = File(filesDir, "logs").apply { mkdirs() }.absolutePath
        Fishnet.init(this, logPath)
    }
}
```

Run application and make a testing crash, the log file will be generated in the path you specified.

## Demo

See the `app` module,
the pre-built APK can be found in the [GitHub releases](https://github.com/Kyant0/Fishnet/releases).

## Build

### Clone the repository

```shell
git clone https://github.com/Kyant0/Fishnet.git
cd Fishnet
git submodule init
git submodule update
git apply fishnet_external.patch
```
